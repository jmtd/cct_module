schema_version: 1

name: jboss.container.jolokia.bash
version: '1.0'
description: ^
  Provides support for configuring Jolokia.  Basic usage is
  opts="$JBOSS_CONTAINER_JOLOKIA_MODULE/jolokia-opts"

envs: # XXX grep for users of JBOSS_CONTAINER_JOLOKIA_MODULE
- name: JBOSS_CONTAINER_JOLOKIA_MODULE
  value: /opt/jboss/container/jolokia
# variable overrides/defaults
- name: AB_JOLOKIA_PASSWORD_RANDOM
  value: "true"
- name: AB_JOLOKIA_AUTH_OPENSHIFT
  value: "true"
- name: AB_JOLOKIA_HTTPS
  value: "true"

ports:
- value: 8778

execute:
- script: configure.sh

packages:
  install:
    - jolokia-jvm-agent

modules:
  install:
  - name: jboss.container.jolokia.api
